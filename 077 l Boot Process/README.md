<a id="text"></a>
# :round_pushpin: Boot Process
Overview Boot Process
กระบวนการบูตของ Linux เป็นส่วนสำคัญของการทำงาน เนื่องจากเป็นขั้นตอนเริ่มต้นในการเริ่มระบบปฏิบัติการ ทุกครั้งที่คุณกดปุ่มเปิดเครื่อง ระบบของคุณจะใช้เวลาสักครู่ในการเตรียมความพร้อมและแสดงหน้าเข้าสู่ระบบ คุณอาจสงสัยว่าเบื้องหลังมีการดำเนินการอะไรบ้าง บทความนี้จะอธิบายว่า Linux จัดการกระบวนการบูตระบบอย่างไร โดยขั้นตอนทั้งหมดแบ่งออกเป็น 6 ขั้นตอนหลัก มีดังนี้:
<br><br>

<img src="https://static.thegeekstuff.com/wp-content/uploads/2011/02/linux-boot-process.png"  width="100" height="100">
<img src="[https://static.thegeekstuff.com/wp-content/uploads/2011/02/linux-boot-process.png](https://media.geeksforgeeks.org/wp-content/uploads/20210427095800/Addaheading11.png)"  width="100" height="100">
<br><br>
1. BIOS :
BIOS ย่อมาจาก Basic Input/Output System เป็นเฟิร์มแวร์ที่ฝังอยู่บนเมนบอร์ด ทำหน้าที่เป็นตัวกลางระหว่างฮาร์ดแวร์และระบบปฏิบัติการ

หน้าที่หลักของ BIOS ใน Linux มีดังนี้:

- POST (Power-On Self Test): ตรวจสอบฮาร์ดแวร์พื้นฐานของคอมพิวเตอร์ เช่น CPU, RAM, อุปกรณ์ต่อพ่วง
- ค้นหาอุปกรณ์บูต (Boot Device): ระบุอุปกรณ์ที่เก็บระบบปฏิบัติการ
- โหลด Master Boot Record (MBR) หรือ GPT: โหลดโปรแกรมเริ่มต้นของระบบปฏิบัติการ
- ส่งต่อการควบคุมไปยังระบบปฏิบัติการ Linux
- หลักการทำงานของ BIOS ใน Linux มีดังนี้:

1)เปิดเครื่อง: เมื่อเปิดเครื่อง คอมพิวเตอร์จะเริ่มทำงาน BIOS
2)POST: BIOS จะทำการตรวจสอบฮาร์ดแวร์พื้นฐาน เช่น CPU, RAM, อุปกรณ์ต่อพ่วง
3)ค้นหาอุปกรณ์บูต: BIOS จะค้นหาอุปกรณ์ที่เก็บระบบปฏิบัติการ ลำดับการบูตจะกำหนดใน BIOS
4)โหลด MBR/GPT: BIOS จะโหลด MBR หรือ GPT จากอุปกรณ์บูต MBR/GPT เป็นโปรแกรมเริ่มต้นของระบบปฏิบัติการ
5)ส่งต่อการควบคุม: BIOS จะส่งต่อการควบคุมไปยัง MBR/GPT
6)MBR/GPT: MBR/GPT จะโหลดบูตโลดเดอร์ (Bootloader)
7)Bootloader: บูตโลดเดอร์จะแสดงเมนูให้เลือกระบบปฏิบัติการที่จะบูต
8)ระบบปฏิบัติการ: เมื่อเลือกระบบปฏิบัติการแล้ว บูตโลดเดอร์จะโหลดระบบปฏิบัติการเข้าสู่หน่วยความจำ

<br><br>
    ใน Linux BIOS ทำงานร่วมกับ UEFI (Unified Extensible Firmware Interface) ซึ่งเป็นเฟิร์มแวร์รุ่นใหม่ที่มีความสามารถมากกว่า BIOS ดังนี้:
      - รองรับอุปกรณ์บูตขนาดใหญ่ (มากกว่า 2TB)
      - รองรับการบูตระบบปฏิบัติการจาก GPT partition table
      - รองรับการบูตแบบ UEFI Secure Boot
      - รองรับการใช้งานกราฟิก
      <br><br>
    BIOS เป็นประโยชน์ในกรณี:
      - การแก้ไขปัญหาการบูต: ผู้ใช้สามารถตรวจสอบลำดับการบูตใน BIOS เพื่อให้แน่ใจว่า Linux เป็นระบบปฏิบัติการที่ถูกเลือก
      - การอัปเดต BIOS: ผู้ใช้สามารถอัปเดต BIOS เพื่อเพิ่มประสิทธิภาพการทำงานหรือแก้ไขข้อบกพร่อง
      - การเปลี่ยนการตั้งค่าฮาร์ดแวร์: ผู้ใช้สามารถเปลี่ยนการตั้งค่าฮาร์ดแวร์บางอย่าง เช่น ความเร็ว RAM ใน BIOS
      
      ข้อระมัดระวัง
      - ในการเปลี่ยนการตั้งค่า BIOS การตั้งค่าที่ไม่ถูกต้องอาจทำให้คอมพิวเตอร์ทำงานผิดพลาดหรือไม่สามารถบูตได้
        
2. MBR
    
MBR ย่อมาจาก Master Boot Record เป็นส่วนหนึ่งของดิสก์ไดรฟ์ที่เก็บข้อมูลเกี่ยวกับพาร์ทิชันและโปรแกรมสำหรับบูตระบบปฏิบัติการ

หน้าที่หลักของ MBR ใน Linux มีดังนี้:
- เก็บข้อมูลเกี่ยวกับพาร์ทิชันบนดิสก์ไดรฟ์: ข้อมูลนี้รวมถึงขนาด ประเภท และตำแหน่งของพาร์ทิชัน
- เก็บโปรแกรมบูตโลดเดอร์ (Bootloader): โปรแกรมนี้ใช้ในการโหลดระบบปฏิบัติการ

ข้อจำกัดของ MBR:
- รองรับพาร์ทิชันขนาดไม่เกิน 2TB
- รองรับพาร์ทิชันได้สูงสุด 4 พาร์ทิชันหลัก

GPT (GUID Partition Table) เป็นรูปแบบใหม่ที่แทนที่ MBR รองรับพาร์ทิชันขนาดใหญ่และจำนวนพาร์ทิชันที่มากกว่า

 3.GRUB ย่อมาจาก Grand Unified Bootloader เป็นโปรแกรมบูตโลดเดอร์ที่ใช้ในระบบปฏิบัติการ Linux

หน้าที่หลักของ GRUB ใน Linux มีดังนี้:
- แสดงเมนูให้เลือกระบบปฏิบัติการที่จะบูต: ผู้ใช้สามารถเลือกระบบปฏิบัติการที่จะบูตจากเมนูนี้
- โหลดเคอร์เนล (Kernel) ของ Linux: GRUB จะโหลดเคอร์เนลของ Linux เข้าสู่หน่วยความจำ
- ส่งต่อการควบคุมไปยังเคอร์เนล: เมื่อโหลดเคอร์เนลเสร็จแล้ว GRUB จะส่งต่อการควบคุมไปยังเคอร์เนล

GRUB มีสองเวอร์ชันหลัก:
- GRUB Legacy: เวอร์ชันเก่า รองรับ MBR
- GRUB 2: เวอร์ชันใหม่ รองรับ UEFI

GRUB 2 รองรับฟีเจอร์เพิ่มเติม เช่น:
- การบูตระบบปฏิบัติการจาก GPT partition table
- การบูตแบบ UEFI Secure Boot
- การใช้งานกราฟิก

ผู้ใช้ Linux ทั่วไปสามารถใช้งาน GRUB ได้โดยไม่ต้องตั้งค่าอะไรเพิ่มเติม แต่ผู้ใช้สามารถปรับแต่ง GRUB ได้ดังนี้:
- แก้ไขไฟล์การตั้งค่า: ผู้ใช้สามารถแก้ไขไฟล์การตั้งค่า GRUB เพื่อเปลี่ยนแปลงเมนูบูต ตัวเลือกการบูต ฯลฯ
- ติดตั้งธีม: ผู้ใช้สามารถติดตั้งธีมเพื่อเปลี่ยน giao diện ของเมนูบูต

4.Kernel
Kernel ใน Linux คือ แกนหลักของระบบปฏิบัติการ ทำหน้าที่ควบคุมการทำงานของฮาร์ดแวร์และซอฟต์แวร์ทั้งหมด

หน้าที่หลักของ Kernel ใน Linux มีดังนี้:

- จัดการหน่วยความจำ: ควบคุมการจัดสรรและใช้งานหน่วยความจำ
- จัดการ CPU: ควบคุมการทำงานของ CPU และจัดสรรเวลาให้กับโปรแกรมต่างๆ
- จัดการอุปกรณ์ I/O: ควบคุมการทำงานของอุปกรณ์ I/O เช่น ฮาร์ดดิสก์ เครือข่าย อุปกรณ์ต่อพ่วง
- จัดการระบบไฟล์: ควบคุมการอ่านเขียนข้อมูลบนระบบไฟล์
- จัดการความปลอดภัย: ควบคุมการเข้าถึงระบบและทรัพยากร
- จัดการกระบวนการ: ควบคุมการทำงานของโปรแกรมต่างๆ
  
Kernel เป็นโปรแกรมที่เขียนด้วยภาษา C  open source

Kernel ทำงานในโหมดเคอร์เนล (Kernel Mode) ซึ่งมีสิทธิ์พิเศษในการเข้าถึงฮาร์ดแวร์

Kernel ทำงานร่วมกับโปรแกรมอื่นๆ
- User space programs: โปรแกรมที่ทำงานในโหมดผู้ใช้ (User Mode)
- Libraries: โปรแกรมที่ให้ฟังก์ชันต่างๆ แก่โปรแกรมอื่นๆ
- System utilities: โปรแกรมที่ใช้สำหรับจัดการระบบ
  
ผู้ใช้ Linux ทั่วไปไม่จำเป็นต้องเข้าใจการทำงานของ Kernel แต่ผู้ใช้สามารถเรียนรู้เพิ่มเติมเกี่ยวกับ Kernel ได้ดังนี้:
- อ่านเอกสารประกอบ: เอกสารประกอบของ Kernel มีข้อมูลเกี่ยวกับการทำงานของ Kernel
- ศึกษา source code: Source code ของ Kernel เปิดกว้าง ผู้ใช้สามารถศึกษา source code เพื่อเรียนรู้เพิ่มเติมเกี่ยวกับ Kernel
- ใช้เครื่องมือ debugging: เครื่องมือ debugging ช่วยให้ผู้ใช้สามารถตรวจสอบการทำงานของ Kernel

5.Init 
Init ย่อมาจาก initializer เป็นโปรแกรมที่ทำงานในระบบปฏิบัติการ Linux  เป็นโปรแกรมแรกที่ทำงานหลังจากเคอร์เนล

หน้าที่หลักของ Init ใน Linux มีดังนี้:
- เริ่มต้นระบบ: Init ทำหน้าที่เริ่มต้นระบบย่อยต่างๆ ของระบบปฏิบัติการ เช่น ระบบไฟล์ เครือข่าย บริการต่างๆ
- ตั้งค่าสภาพแวดล้อม: Init ทำหน้าที่ตั้งค่าสภาพแวดล้อมสำหรับโปรแกรมอื่นๆ เช่น ตัวแปรสภาพแวดล้อม พาธ
- รันโปรแกรม: Init ทำหน้าที่รันโปรแกรมต่างๆ ที่จำเป็นสำหรับการเริ่มต้นระบบ
- ควบคุมบริการ: Init ทำหน้าที่ควบคุมบริการต่างๆ เช่น เริ่มต้น หยุด ชั่วคราว บริการ

Init มีหลายเวอร์ชัน เวอร์ชันที่นิยมใช้ ได้แก่:
- SysV init: เวอร์ชันเก่า ใช้งานง่าย แต่ไม่ยืดหยุ่น
- Systemd: เวอร์ชันใหม่ ยืดหยุ่น รองรับฟีเจอร์เพิ่มเติม เช่น การควบคุมบริการแบบ unit

6.Runlevel
Runlevel คือ ระดับการทำงานของระบบปฏิบัติการ Linux แต่ละ runlevel กำหนดชุดของบริการและโปรแกรมที่จะรัน

หน้าที่หลักของ runlevel ใน Linux มีดังนี้:
- ควบคุมการทำงานของระบบ: ผู้ใช้สามารถเลือก runlevel เพื่อกำหนดว่าระบบจะทำงานในโหมดใด เช่น โหมดผู้ใช้ โหมดเซิร์ฟเวอร์ โหมดเดสก์ท็อป
- ควบคุมบริการ: ผู้ใช้สามารถเลือก runlevel เพื่อกำหนดว่าบริการใดจะรัน

Runlevel มี 7 ระดับ ดังนี้:
- Runlevel 0: ปิดเครื่อง
- Runlevel 1: โหมดผู้ใช้
- Runlevel 2: โหมดมัลติยูสเซอร์
- Runlevel 3: โหมดผู้ใช้แบบเต็มรูปแบบ
- Runlevel 4: โหมดผู้ใช้แบบไม่เต็มรูปแบบ
- Runlevel 5: โหมดกราฟิก
- Runlevel 6: รีบูตเครื่อง

ผู้ใช้สามารถเปลี่ยน runlevel ได้ดังนี้:
- ใช้คำสั่ง init: ผู้ใช้สามารถใช้คำสั่ง init เพื่อเปลี่ยน runlevel
- ใช้หน้าจอการตั้งค่า: ผู้ใช้สามารถใช้หน้าจอการตั้งค่าเพื่อเปลี่ยน runlevel






> [!TIP]
> 

---

Overview
The Linux operating system is an open-source software system that is widely used on various computing devices. It is one of the most popular operating systems globally, owing to its flexibility, stability, and security. The Linux boot process is a critical aspect of its functionality, as it is the initial stage of the operating system's startup. Understanding the Linux boot process is essential for system administrators, developers, and anyone who works with Linux.

What is Booting Process in Linux?
The boot process is a fundamental aspect of any operating system. It is the process by which the operating system loads into the computer's memory, initializes its components, and prepares to execute user applications.
The Linux boot process consists of several stages that are critical to the functionality of the operating system. Let us go through the various stages of the booting process in Linux.




