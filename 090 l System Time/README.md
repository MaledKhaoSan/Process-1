# System Time

System time หมายถึงเวลาที่ระบบคอมพิวเตอร์หรืออุปกรณ์อื่น ๆ ใช้เพื่อจัดการกับเหตุการณ์ต่าง ๆ ภายในระบบนั้น ๆ โดยปกติจะเป็นเวลาปัจจุบันของโลก (วินาที นาที ชั่วโมง วัน เดือน ปี) ซึ่งถูกแสดงผ่านทางอุปกรณ์แสดงผลหรือไปยังโปรแกรมที่ทำงานอยู่บนระบบนั้น ๆ การมีเวลาที่ถูกต้องในระบบเป็นสิ่งสำคัญอย่างมาก เนื่องจากมีผลต่อการทำงานของโปรแกรมและการเชื่อมต่อในเครือข่าย การตั้งค่าเวลาไม่ถูกต้องอาจทำให้เกิดปัญหาในการทำงานของระบบและความไม่สะดวกในการใช้งานอุปกรณ์ต่าง ๆ ดังนั้น การจัดการกับ system time เป็นเรื่องสำคัญในการดูแลระบบคอมพิวเตอร์


## ประเภทของ clock

1. Hardware clock
2. System clock

## Hardware Clock

นาฬิกาฮาร์ดแวร์ (Hardware Clock) เป็นนาฬิกาที่ติดตั้งบนเมนบอร์ดของคอมพิวเตอร์หรืออุปกรณ์อื่น ๆ ซึ่งใช้ในการเก็บเวลาและวันที่ โดยมักจะมีการให้พลังงานโดยตรงจากแบตเตอรี่ CMOS ซึ่งติดตั้งบนเมนบอร์ดเพื่อให้นาฬิกาฮาร์ดแวร์ยังคงทำงานได้แม้ระบบจะถูกปิดลงด้วย นาฬิกาฮาร์ดแวร์เป็นส่วนสำคัญของระบบคอมพิวเตอร์เนื่องจากมีบทบาทในการรักษาการเริ่มต้นระบบและการปรับปรุงเวลาของระบบให้เป็นไปตามเวลาสากลหรือเวลาท้องถิ่นตามที่กำหนด นอกจากนี้ ในบางกรณี นาฬิกาฮาร์ดแวร์ยังใช้ในการทำงานร่วมกับระบบปฏิบัติการเพื่อรักษาความถูกต้องของเวลาในระบบได้เสมอ.

เมื่อระบบเปิดใช้งานและกำลังทำงานอยู่ สามารถดูและตั้งค่าวันที่และเวลาของนาฬิกาฮาร์ดแวร์ได้โดยใช้คำสั่ง  `hwclock` ใน Linux ตามที่อธิบายไว้

1. ### Display Hardware Clock Date and Time
	เพื่อแสดงวันที่และเวลาของนาฬิกาฮาร์ดแวร์ของระบบใน Linux สามารถพิมพ์คำสั่ง `hwclock` ได้เลย คำสั่งนี้จะแสดงวันที่และเวลาเดียวกันที่จะเห็นจากหน้าจอ BIOS แล้วสามารถใช้ตัวเลือก `-r` หรือ `--show` พร้อมกับคำสั่ง `hwclock` เพื่อแสดงวันที่และเวลาได้ด้วย ตัวอย่างเช่น:
		 
	```
	$ hwclock -r
	```
	or
		
	```
	$ hwclock --show
	```

2. ###  Copy System Time to Hardware Time
	ใช้คำสั่ง `hwclock` ดังที่แสดงด้านล่างเพื่อตั้งค่านาฬิกาฮาร์ดแวร์ให้เหมือนกับนาฬิกาของระบบ

	```
	$ hwclock -w
	```
	or
		
	```
	$ hwclock --systohc
	```
3. ### Set Hardware Clock Date and Time Manually
	แทนที่จะคัดลอกวันที่และเวลาของระบบไปยังนาฬิกาฮาร์ดแวร์ สามารถตั้งค่าค่าเวลาด้วยตนเองโดยใช้ตัวเลือก `--set` และ `--date` ตามที่แสดงไว้ด้านล่าง

	```
	$ hwclock --set --date “4/1/2025 18:30:50”
	```
4. ### Copy Hardware Time to System Time	
	เมื่อนาฬิกาฮาร์ดแวร์ของแสดงวันที่และเวลาที่ถูกต้อง แต่นาฬิกาของระบบไม่ถูกต้อง สามารถใช้ตัวเลือก `-s` ดังที่แสดงไว้ด้านล่างเพื่อคัดลอกเวลาของฮาร์ดแวร์ไปยังเวลาระบบได้

	```
	$ hwclock -s
	```
	or
		
	```
	$ hwclock -hctosys
	```
5. ### hwclock Debug Mode
	เมื่อใช้ตัวเลือก `--debug` กับคำสั่ง `hwclock` มันจะแสดงข้อมูล debug บางส่วนซึ่งแสดงถึงการทำงานของคำสั่ง `hwclock` โดยละเอียด

	```
	$ hwclock --systohc --debug
	```
	and
		
	```
	$ hwclock -hctosys --debug
	```
6. ### Adjust the Hardware Clock
	มื่อระบบเริ่มต้นขึ้น มันจะเอาเวลามาจากนาฬิกาฮาร์ดแวร์ ไฟล์ `/etc/adjtime` ถูกใช้โดยตัวเลือก `hwclock --adjust` เพื่อควบคุมการปรับแต่ง

	```
	$ hwclock --adjust
	```
7. ### hwclock Test Mode
	เมื่อคุณเปลี่ยนแปลงสิ่งต่าง ๆ โดยใช้คำสั่ง `hwclock` พร้อมกับตัวเลือก `--test` คุณสามารถดำเนินการคำสั่งโดยไม่จริงๆทำการเปลี่ยนแปลงใด ๆ

	ตัวเลือก `--systz` จะเปลี่ยนโซนเวลาระบบตามที่กำหนด แต่เนื่องจากเราให้ `--test` มันจะไม่ทำการเปลี่ยนแต่จะยังคงดำเนินการคำสั่งโดยไม่มีปัญหาใด ๆ

	```
	$ hwclock --systz --test
	```
## Setting Timezone

โซนเวลาเป็นพื้นที่ภูมิศาสตร์ที่มีเวลามาตรฐานเดียวกัน เรามักจะตั้งค่าโซนเวลาขณะที่ติดตั้งระบบปฏิบัติการ แต่สามารถเปลี่ยนแปลงได้ง่ายๆ ในภายหลัง

การใช้โซนเวลาที่ถูกต้องเป็นสิ่งสำคัญสำหรับงานและกระบวนการที่เกี่ยวข้องกับระบบหลายระบบ เช่น เดมอน (cron daemon) ใช้โซนเวลาของระบบสำหรับการดำเนินการงาน cron โซนเวลายังถูกใช้สำหรับการประทับเวลาในบันทึกประวัติการใช้งานด้วย

1. ### Checking the Current Time Zone
	เพื่อดูโซนเวลาปัจจุบัน ใช้คำสั่ง timedatectl โดยไม่มีตัวเลือกหรืออาร์กิวเมนต์ใดๆ

	```
	$ timedatectl
	```
                      Local time: Tue 2019-12-03 16:30:44 UTC
                  Universal time: Tue 2019-12-03 16:30:44 UTC
                        RTC time: Tue 2019-12-03 16:30:44
                       Time zone: Etc/UTC (UTC, +0000)
       System clock synchronized: no
       systemd-timesyncd.service active: yes
				  RTC in local TZ: no
2. ### Changing the Time Zone
	เพื่อดูโซนเวลาทั้งหมดที่มีอยู่ ใช้คำสั่ง `timedatectl` หรือแสดงรายการไฟล์ในไดเรกทอรี `/usr/share/zoneinfo`

	```
	$ timedatectl set-timezone <your_time_zone>
	```
